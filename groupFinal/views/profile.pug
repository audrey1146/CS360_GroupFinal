// File Name:     profile.pug
// Date:          11/30/2020
// Assignment:    Final Group Assignment
// Purpose:       View for the edit profile page

doctype html
html(class='h-100')
  head
    meta(name='viewport' content='width=device-width, initial-scale=1')
    title Slice of Pacific
    link(rel='stylesheet' href='https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css' integrity='sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2' crossorigin='anonymous')
    link(rel='preconnect' href='https://fonts.gstatic.com')
    link(rel='stylesheet' href='https://fonts.googleapis.com/css2?family=Roboto+Slab:wght@100;200;300;400;500;600;700;800;900&display=swap')
    link(rel='stylesheet' type='text/css' href='/../public/stylesheets/style.css')

  body(class='green_background h-100')
    div(class='row row-no-padding')
      div(id='header')
        div(class='nav')
          nav(class='navbar navbar-dark' id='nav')
            button(class='navbar-toggler' type='button' data-toggle='collapse' data-target='#navbarToggleExternalContent' aria-controls='navbarToggleExternalContent' aria-expanded='false' aria-label='Toggle navigation')
              span(class='navbar-toggler-icon')
        div(class='center')
          h1 Slice of Pacific
      div(class='pos-f-t')
        div(class='collapse' id='navbarToggleExternalContent')
          div(class=' p-4')
            button(class='btn btn-secondary') Home
            button(class='btn btn-secondary' method='GET' action='/users/profile/' + id) Edit Profile
            button(class='btn btn-secondary') Logout 

    div(class='container h-100')
      div(class='row h-100 justify-content-center align-items-center screenHeight')
        div(class='col-xs-3 col-no-padding')
          div(class='content_area text-center')
            
            if errors
              ul(class='text-left scalingErrors')
                for error in errors
                  li!=error.msg

            form(method='POST' action='/users/profile/' + id)
              input(class='scalingText' type='text', placeholder='Username' name='user_name' value=userDetail.user_name required)
              div(class='row m-1')
              input(class='scalingText' type='text', placeholder='First Name' name='first_name' value=userDetail.first_name required)
              div(class='row m-1')
              input(class='scalingText' type='text' placeholder='Last Name' name='last_name' value=userDetail.last_name required)
              div(class='row m-1')
              input(class='scalingText' type='email', placeholder='Email' name='email' value=userDetail.email required)
              div(class='row m-1')
              input(class='scalingText' type='password' placeholder='New Password' name='password')
              div(class='row m-1')
              input(class='scalingText' type='password' placeholder='Confirm New Password' name='confirm_password')
              p  Password must contain at least 8 characters and 1 number
              div(class='row m-1')
              p In which city did you first try pizza?
              input(class='scalingText' type='text', placeholder='Security Answer' name='security_answer' value=userDetail.security_answer required)
              div(class='row m-1')
              input(class='scalingText' type='password', placeholder='Current Password' name='current_password' required)
              div(class='row m-3')
              button(class='btn btn-success' type='submit') Save

    script(src='https://code.jquery.com/jquery-3.5.1.slim.min.js' integrity='sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj' crossorigin='anonymous')
    script(src='https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js' integrity='sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx' crossorigin='anonymous')